<!-- kiosk/templates/start.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>키오스크 시작</title>
  <script>
    // 아무 곳이나 클릭 시 서버로 "start_order" 메시지 전송
    function startVoiceOrder() {
      const socket = new WebSocket('ws://localhost:8002');

      socket.onopen = () => {
        console.log('✅ WebSocket 연결됨');
        socket.send("start_order");
        console.log("📨 start_order 메시지 전송됨");
      };
      

      socket.onmessage = (event) => {
        const msg = event.data.trim();
        console.log("📨 서버 응답:", msg);
        const speak = new SpeechSynthesisUtterance(msg);
        speechSynthesis.speak(speak);
      };
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.body.addEventListener('click', startVoiceOrder);
    });
  </script>
</head>
<body>
  <h1 style="text-align:center; margin-top: 20%;">화면을 터치하여<br>음성 주문을 시작하세요</h1>
</body>
</html>
