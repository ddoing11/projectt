<!-- kiosk/templates/start.html -->
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>í‚¤ì˜¤ìŠ¤í¬ ì‹œì‘</title>
  <script>
    // ì•„ë¬´ ê³³ì´ë‚˜ í´ë¦­ ì‹œ ì„œë²„ë¡œ "start_order" ë©”ì‹œì§€ ì „ì†¡
    function startVoiceOrder() {
      const socket = new WebSocket('ws://localhost:8002');

      socket.onopen = () => {
        console.log('âœ… WebSocket ì—°ê²°ë¨');
        socket.send("start_order");
        console.log("ğŸ“¨ start_order ë©”ì‹œì§€ ì „ì†¡ë¨");
      };
      

      socket.onmessage = (event) => {
        const msg = event.data.trim();
        console.log("ğŸ“¨ ì„œë²„ ì‘ë‹µ:", msg);
        const speak = new SpeechSynthesisUtterance(msg);
        speechSynthesis.speak(speak);
      };
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.body.addEventListener('click', startVoiceOrder);
    });
  </script>
</head>
<body>
  <h1 style="text-align:center; margin-top: 20%;">í™”ë©´ì„ í„°ì¹˜í•˜ì—¬<br>ìŒì„± ì£¼ë¬¸ì„ ì‹œì‘í•˜ì„¸ìš”</h1>
</body>
</html>
